{"ast":null,"code":"import _objectSpread from \"/Applications/project/admin-manager/admin-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { getOrderList, getOrderData } from '@/api/financeManageApi';\nimport DateRangeShortcut from '../../components/DateRangeShortcut/index.vue';\nimport moment from \"moment\";\nexport default {\n  components: {\n    DateRangeShortcut: DateRangeShortcut\n  },\n  data: function data() {\n    return {\n      dateRange: [],\n      form: {\n        orderNum: '',\n        userId: '',\n        depositType: '',\n        startTime: null,\n        endTime: null\n      },\n      page: {\n        pageNum: 1,\n        pageSize: 10\n      },\n      orderList: [],\n      dataList: [],\n      total: 0\n    };\n  },\n  created: function created() {\n    this.handelSelect();\n    this.handleQuery();\n  },\n  methods: {\n    //充值类型下拉列表\n    handelSelect: function handelSelect() {\n      var _this = this;\n      getOrderList().then(function (res) {\n        if (res.code == 200) {\n          _this.orderList = res.data;\n        }\n      });\n    },\n    //处理充值类型\n    handelDepositType: function handelDepositType(val) {\n      var obj = this.orderList.find(function (item) {\n        return item.id == val;\n      });\n      return obj.name;\n    },\n    //查询按钮\n    handleQuery: function handleQuery() {\n      var _this2 = this;\n      var params = _objectSpread(_objectSpread({}, this.form), this.page);\n      params.startTime = moment(this.dateRange[0]).startOf(\"day\").format('YYYY-MM-DD HH:mm:ss');\n      params.endTime = moment(this.dateRange[1]).endOf(\"day\").format('YYYY-MM-DD HH:mm:ss');\n      getOrderData(params).then(function (res) {\n        if (res.code == 200) {\n          _this2.dataList = res.data;\n          _this2.total = res.total;\n        }\n      });\n    },\n    //重置按钮\n    resetQuery: function resetQuery() {\n      this.form = {};\n      this.dateRange = [];\n    },\n    handleClick: function handleClick() {},\n    handleSizeChange: function handleSizeChange(val) {\n      this.page.pageSize = val;\n      this.handleQuery();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.page.pageNum = val;\n      this.handleQuery();\n    }\n  }\n};","map":{"version":3,"names":["getOrderList","getOrderData","DateRangeShortcut","moment","components","data","dateRange","form","orderNum","userId","depositType","startTime","endTime","page","pageNum","pageSize","orderList","dataList","total","created","handelSelect","handleQuery","methods","_this","then","res","code","handelDepositType","val","obj","find","item","id","name","_this2","params","_objectSpread","startOf","format","endOf","resetQuery","handleClick","handleSizeChange","handleCurrentChange"],"sources":["src/views/financeManage/memberOrder.vue"],"sourcesContent":["<template>\n    <div class=\"order-page\">\n        <el-form :inline=\"true\">\n            <el-form-item>\n                <date-range-shortcut v-model=\"dateRange\"></date-range-shortcut>\n            </el-form-item>\n            <el-form-item label=\"选择时间\">\n                <el-date-picker v-model=\"dateRange\" size=\"small\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"></el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"订单号\">\n                <el-input v-model=\"form.orderNum\" size=\"small\" clearable placeholder=\"请输入订单号\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"会员ID\">\n                <el-input v-model=\"form.userId\" size=\"small\" clearable placeholder=\"请输入会员ID\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"充值类型\" size=\"small\">\n                <el-select v-model=\"form.depositType\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in orderList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n\n            <el-form-item>\n                <el-button type=\"primary\" size=\"small\" @click=\"handleQuery\">查询</el-button>\n                <el-button size=\"small\" @click=\"resetQuery\">重置</el-button>\n            </el-form-item>\n        </el-form>\n\n        <el-table :data=\"dataList\" style=\"width: 100%\">\n            <el-table-column prop=\"userId\" label=\"会员ID\" align=\"center\" />\n            <el-table-column prop=\"orderNum\" label=\"订单号\" align=\"center\" />\n            <el-table-column prop=\"userName\" label=\"会员昵称\" align=\"center\" />\n            <el-table-column label=\"充值类型\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    {{ handelDepositType(scope.row.depositType) }}\n                </template>\n            </el-table-column> \n            <el-table-column prop=\"depositAmount\" label=\"充值金额\" align=\"center\" />\n            <el-table-column prop=\"dateTime\" label=\"充值时间\" align=\"center\" />\n            <el-table-column label=\"操作\" align=\"center\" width=\"150\">\n                <template slot-scope=\"scope\">\n                    <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">编辑</el-button>\n                    <el-button type=\"text\" size=\"small\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-pagination\n            v-if=\"total > 0\"\n            @size-change=\"handleSizeChange\" \n            @current-change=\"handleCurrentChange\" \n            :current-page=\"page.pageNum\" \n            :page-sizes=\"[10, 20, 30, 500]\" \n            :page-size=\"10\" \n            layout=\"total, sizes, prev, pager, next, jumper\" \n            :total=\"total\"\n        />\n    </div>\n</template>\n\n<script>\nimport { getOrderList, getOrderData } from '@/api/financeManageApi'\nimport DateRangeShortcut from '../../components/DateRangeShortcut/index.vue'\nimport moment from \"moment\";\nexport default {\n    components: {\n        DateRangeShortcut\n    },\n    data() {\n        return {\n            dateRange: [],\n            form: {\n                orderNum: '',\n                userId: '',\n                depositType: '',\n                startTime: null,\n                endTime: null,\n            },\n            page: {\n                pageNum: 1,\n                pageSize: 10\n            },\n            orderList: [],\n            dataList: [],\n            total: 0\n        }\n    },\n\n    created() {\n        this.handelSelect()\n        this.handleQuery()\n    },\n\n    methods: {\n        //充值类型下拉列表\n        handelSelect() {\n            getOrderList().then(res => {\n                if (res.code == 200) {\n                    this.orderList = res.data\n                }\n            })\n        },\n\n        //处理充值类型\n        handelDepositType(val){\n            let obj = this.orderList.find(item => item.id == val)\n            return obj.name\n        },\n\n        //查询按钮\n        handleQuery() {\n            let params = {\n                ...this.form,\n                ...this.page\n            }\n            params.startTime = moment(this.dateRange[0]).startOf(\"day\").format('YYYY-MM-DD HH:mm:ss')\n            params.endTime = moment(this.dateRange[1]).endOf(\"day\").format('YYYY-MM-DD HH:mm:ss')\n\n            getOrderData(params).then(res => {\n                if (res.code == 200) {\n                    this.dataList = res.data\n                    this.total = res.total\n                }\n            })\n        },\n\n        //重置按钮\n        resetQuery() {\n            this.form = {}\n            this.dateRange = []\n        },\n\n        handleClick() {\n\n        },\n\n        handleSizeChange(val) {\n            this.page.pageSize = val\n            this.handleQuery() \n        },\n        handleCurrentChange(val) {\n            this.page.pageNum = val\n            this.handleQuery() \n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .el-table .el-table__cell{\n    padding: 8px 0\n}\n.el-pagination{\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 15px;\n}\n</style>"],"mappings":";;;;AA4DA,SAAAA,YAAA,EAAAC,YAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,MAAA;AACA;EACAC,UAAA;IACAF,iBAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,IAAA;QACAC,QAAA;QACAC,MAAA;QACAC,WAAA;QACAC,SAAA;QACAC,OAAA;MACA;MACAC,IAAA;QACAC,OAAA;QACAC,QAAA;MACA;MACAC,SAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAC,YAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACA;IACAF,YAAA,WAAAA,aAAA;MAAA,IAAAG,KAAA;MACAvB,YAAA,GAAAwB,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAH,KAAA,CAAAP,SAAA,GAAAS,GAAA,CAAApB,IAAA;QACA;MACA;IACA;IAEA;IACAsB,iBAAA,WAAAA,kBAAAC,GAAA;MACA,IAAAC,GAAA,QAAAb,SAAA,CAAAc,IAAA,WAAAC,IAAA;QAAA,OAAAA,IAAA,CAAAC,EAAA,IAAAJ,GAAA;MAAA;MACA,OAAAC,GAAA,CAAAI,IAAA;IACA;IAEA;IACAZ,WAAA,WAAAA,YAAA;MAAA,IAAAa,MAAA;MACA,IAAAC,MAAA,GAAAC,aAAA,CAAAA,aAAA,KACA,KAAA7B,IAAA,GACA,KAAAM,IAAA,CACA;MACAsB,MAAA,CAAAxB,SAAA,GAAAR,MAAA,MAAAG,SAAA,KAAA+B,OAAA,QAAAC,MAAA;MACAH,MAAA,CAAAvB,OAAA,GAAAT,MAAA,MAAAG,SAAA,KAAAiC,KAAA,QAAAD,MAAA;MAEArC,YAAA,CAAAkC,MAAA,EAAAX,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAQ,MAAA,CAAAjB,QAAA,GAAAQ,GAAA,CAAApB,IAAA;UACA6B,MAAA,CAAAhB,KAAA,GAAAO,GAAA,CAAAP,KAAA;QACA;MACA;IACA;IAEA;IACAsB,UAAA,WAAAA,WAAA;MACA,KAAAjC,IAAA;MACA,KAAAD,SAAA;IACA;IAEAmC,WAAA,WAAAA,YAAA,GAEA;IAEAC,gBAAA,WAAAA,iBAAAd,GAAA;MACA,KAAAf,IAAA,CAAAE,QAAA,GAAAa,GAAA;MACA,KAAAP,WAAA;IACA;IACAsB,mBAAA,WAAAA,oBAAAf,GAAA;MACA,KAAAf,IAAA,CAAAC,OAAA,GAAAc,GAAA;MACA,KAAAP,WAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}