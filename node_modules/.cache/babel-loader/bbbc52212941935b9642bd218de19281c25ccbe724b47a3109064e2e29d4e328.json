{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nVue.use(VueRouter);\nvar routes = [{\n  path: '/login',\n  name: 'login',\n  component: function component() {\n    return import('../views/login/index.vue');\n  }\n}, {\n  path: '/',\n  name: 'Layout',\n  // redirect: \"/home\",\n  component: function component() {\n    return import('../views/Layout/index.vue');\n  },\n  children: [{\n    path: \"/home\",\n    name: 'home',\n    component: function component() {\n      return import('../views/home/index.vue');\n    },\n    meta: {\n      title: \"扶뒬못\"\n    }\n  }]\n}];\nvar router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  var token = JSON.parse(localStorage.getItem('userInfo')) ? JSON.parse(localStorage.getItem('userInfo')).token : '';\n  if (!token) {\n    if (to.path != '/login') {\n      next({\n        path: '/login'\n      });\n    } else {\n      next();\n    }\n  } else {\n    if (to.path == '/login') {\n      next({\n        path: '/'\n      });\n    }\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","routes","path","name","component","children","meta","title","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","token","JSON","parse","localStorage","getItem"],"sources":["/Applications/project/clothesShop/clothesShop/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nconst routes = [\n    {\n        path: '/login',\n        name: 'login',\n        component: () => import('../views/login/index.vue')\n    },\n    {\n        path: '/',\n        name: 'Layout',\n        // redirect: \"/home\",\n        component: () => import('../views/Layout/index.vue'),\n        children: [\n            {\n                path: \"/home\",\n                name: 'home',\n                component: () => import('../views/home/index.vue'),\n                meta:{\n                    title:\"扶뒬못\"\n                }\n            },\n            \n        ]\n    }\n]\n\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes\n})\n\nrouter.beforeEach((to, from, next) => {\n\tconst token = JSON.parse(localStorage.getItem('userInfo')) ? JSON.parse(localStorage.getItem('userInfo')).token : ''\n\tif(!token){\n\t\tif(to.path != '/login'){\n\t\t\tnext({path:'/login'})\n\t\t}else{\n\t\t\tnext()\n\t\t}\n\t}else{\n\t\tif(to.path == '/login'){\n\t\t\tnext({path:'/'})\n\t\t}\n\t}\n\tnext();\n});\n\nexport default router\n"],"mappings":";;;;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElCD,GAAG,CAACE,GAAG,CAACD,SAAS,CAAC;AAElB,IAAME,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAE,SAAXA,SAASA,CAAA;IAAA,OAAQ,MAAM,CAAC,0BAA0B,CAAC;EAAA;AACvD,CAAC,EACD;EACIF,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,QAAQ;EACd;EACAC,SAAS,EAAE,SAAXA,SAASA,CAAA;IAAA,OAAQ,MAAM,CAAC,2BAA2B,CAAC;EAAA;EACpDC,QAAQ,EAAE,CACN;IACIH,IAAI,EAAE,OAAO;IACbC,IAAI,EAAE,MAAM;IACZC,SAAS,EAAE,SAAXA,SAASA,CAAA;MAAA,OAAQ,MAAM,CAAC,yBAAyB,CAAC;IAAA;IAClDE,IAAI,EAAC;MACDC,KAAK,EAAC;IACV;EACJ,CAAC;AAGT,CAAC,CACJ;AAGD,IAAMC,MAAM,GAAG,IAAIT,SAAS,CAAC;EACzBU,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BZ,MAAM,EAANA;AACJ,CAAC,CAAC;AAEFO,MAAM,CAACM,UAAU,CAAC,UAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAK;EACrC,IAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,GAAGH,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAACJ,KAAK,GAAG,EAAE;EACpH,IAAG,CAACA,KAAK,EAAC;IACT,IAAGH,EAAE,CAACb,IAAI,IAAI,QAAQ,EAAC;MACtBe,IAAI,CAAC;QAACf,IAAI,EAAC;MAAQ,CAAC,CAAC;IACtB,CAAC,MAAI;MACJe,IAAI,CAAC,CAAC;IACP;EACD,CAAC,MAAI;IACJ,IAAGF,EAAE,CAACb,IAAI,IAAI,QAAQ,EAAC;MACtBe,IAAI,CAAC;QAACf,IAAI,EAAC;MAAG,CAAC,CAAC;IACjB;EACD;EACAe,IAAI,CAAC,CAAC;AACP,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}