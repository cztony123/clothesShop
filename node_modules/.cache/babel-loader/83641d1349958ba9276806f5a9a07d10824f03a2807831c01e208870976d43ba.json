{"ast":null,"code":"import { getHomeData } from '@/api/homeApi';\nimport DateRangeShortcut from '../../components/DateRangeShortcut/index.vue';\nimport moment from \"moment\";\nexport default {\n  components: {\n    DateRangeShortcut: DateRangeShortcut\n  },\n  data: function data() {\n    return {\n      isShow: false,\n      dateRange: [],\n      stock: [],\n      //库存\n      funds: [],\n      //资金\n      userstate: [] //用户\n    };\n  },\n  created: function created() {\n    this.handleQuery();\n  },\n  methods: {\n    //查询按钮\n    handleQuery: function handleQuery() {\n      var _this = this;\n      var params = {\n        startTime: moment(this.dateRange[0]).startOf(\"day\").format('YYYY-MM-DD HH:mm:ss'),\n        endTime: moment(this.dateRange[1]).endOf(\"day\").format('YYYY-MM-DD HH:mm:ss')\n      };\n\n      //请求接口\n      getHomeData(params).then(function (res) {\n        if (res.code == 200) {\n          _this.stock = res.data.stock;\n          _this.funds = res.data.funds;\n          _this.userstate = res.data.userstate;\n          _this.isShow = true;\n        }\n      });\n    },\n    //重置按钮\n    resetQuery: function resetQuery() {\n      this.dateRange = [];\n    }\n  }\n};","map":{"version":3,"names":["getHomeData","DateRangeShortcut","moment","components","data","isShow","dateRange","stock","funds","userstate","created","handleQuery","methods","_this","params","startTime","startOf","format","endTime","endOf","then","res","code","resetQuery"],"sources":["src/views/home/index.vue"],"sourcesContent":["<template>\n    <div class=\"home-page\">\n        <div v-if=\"isShow\">\n            <el-form :inline=\"true\">\n                <el-form-item>\n                    <date-range-shortcut v-model=\"dateRange\"></date-range-shortcut>\n                </el-form-item>\n                    <el-form-item label=\"选择时间\">\n                        <el-date-picker v-model=\"dateRange\" size=\"small\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n                    </el-date-picker>\n                </el-form-item>\n                \n                <el-form-item>\n                    <el-button type=\"primary\" size=\"small\" @click=\"handleQuery\">查询</el-button>\n                    <el-button size=\"small\" @click=\"resetQuery\">重置</el-button>\n                </el-form-item>\n            </el-form>\n\n\n            <el-card class=\"box-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span>茶品库存概况</span>\n                </div>\n                <div class=\"content\">\n                    <div v-for=\"(item, index) in stock\" :key=\"index\" class=\"text item\">\n                        <span>{{ item.surplusNum}}</span>\n                        <span>{{ item.title}}</span>\n                    </div>\n                </div>\n            </el-card>\n\n            <el-card class=\"box-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span>资金详情概况</span>\n                </div>\n                <div class=\"content\">\n                    <div v-for=\"(item, index) in funds\" :key=\"index\" class=\"text item\">\n                        <span>{{ item.moneyNum}}</span>\n                        <span>{{ item.title}}</span>\n                    </div>\n                </div>\n            </el-card>\n\n            <el-card class=\"box-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span>用户情况概况</span>\n                </div>\n                <div class=\"content\">\n                    <div v-for=\"(item, index) in userstate\" :key=\"index\" class=\"text item\">\n                        <span>{{ item.isNum}}</span>\n                        <span>{{ item.title}}</span>\n                    </div>\n                </div>\n            </el-card>\n        </div>\n\n\n\n        <div class=\"in-index\" v-else>\n            <div>您 已 进 入 管 理 后 台</div>\n            <div>You have entered the managements</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getHomeData } from '@/api/homeApi'\nimport DateRangeShortcut from '../../components/DateRangeShortcut/index.vue'\nimport moment from \"moment\";\nexport default {\n    components: {\n        DateRangeShortcut\n    },\n    data() {\n        return {\n            isShow: false,\n            dateRange: [],\n            stock: [], //库存\n            funds: [], //资金\n            userstate: [], //用户\n        };\n    },\n\n    created(){\n        this.handleQuery()\n    },\n\n    methods: {\n        //查询按钮\n        handleQuery(){\n            let params = {\n                startTime: moment(this.dateRange[0]).startOf(\"day\").format('YYYY-MM-DD HH:mm:ss'),\n                endTime: moment(this.dateRange[1]).endOf(\"day\").format('YYYY-MM-DD HH:mm:ss')\n            }\n\n            //请求接口\n            getHomeData(params).then(res =>{\n                if(res.code == 200){\n                    this.stock = res.data.stock\n                    this.funds = res.data.funds\n                    this.userstate = res.data.userstate\n                    this.isShow = true\n                }\n            })\n        },\n\n        //重置按钮\n        resetQuery(){\n            this.dateRange = []\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n    .box-card{\n        margin-bottom: 30px;\n        .content{\n            display: flex;\n            justify-content: space-around;\n            padding: 12px 0;\n            text-align: center;\n            .text{\n                display: flex;\n                flex-direction: column;\n                span{\n                    padding: 6px 0;\n                }\n            }\n        }\n    }\n\n    .in-index{\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n        color: #636363;\n        font-size: 45px;\n        div:nth-of-type(2){\n            font-size: 27px;\n        }\n    }\n</style>"],"mappings":"AAkEA,SAAAA,WAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,MAAA;AACA;EACAC,UAAA;IACAF,iBAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,SAAA;MACAC,KAAA;MAAA;MACAC,KAAA;MAAA;MACAC,SAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACA;IACAD,WAAA,WAAAA,YAAA;MAAA,IAAAE,KAAA;MACA,IAAAC,MAAA;QACAC,SAAA,EAAAb,MAAA,MAAAI,SAAA,KAAAU,OAAA,QAAAC,MAAA;QACAC,OAAA,EAAAhB,MAAA,MAAAI,SAAA,KAAAa,KAAA,QAAAF,MAAA;MACA;;MAEA;MACAjB,WAAA,CAAAc,MAAA,EAAAM,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAT,KAAA,CAAAN,KAAA,GAAAc,GAAA,CAAAjB,IAAA,CAAAG,KAAA;UACAM,KAAA,CAAAL,KAAA,GAAAa,GAAA,CAAAjB,IAAA,CAAAI,KAAA;UACAK,KAAA,CAAAJ,SAAA,GAAAY,GAAA,CAAAjB,IAAA,CAAAK,SAAA;UACAI,KAAA,CAAAR,MAAA;QACA;MACA;IACA;IAEA;IACAkB,UAAA,WAAAA,WAAA;MACA,KAAAjB,SAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}