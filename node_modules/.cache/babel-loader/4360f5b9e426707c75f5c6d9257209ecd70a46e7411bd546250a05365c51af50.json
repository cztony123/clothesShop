{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { getDetailsDataList } from '@/api/gameManageApi';\nexport default {\n  data: function data() {\n    return {\n      centerDialogVisible: false,\n      title: '',\n      list: [],\n      overList: [],\n      index: 1,\n      maxIndex: 3,\n      userId: '',\n      total_inning: ''\n    };\n  },\n  methods: {\n    //打开弹窗\n    open: function open(row) {\n      this.centerDialogVisible = true;\n      this.title = \"\\u3010\".concat(row.gameName, \"\\u3011 \\u3010\\u4F1A\\u5458\\u6635\\u79F0\\uFF1A\").concat(row.userName, \"\\u3011 \\u3010\\u724C\\u5E93\\u7F16\\u53F7\\uFF1A\").concat(row.gameRoomId, \"\\u3011\");\n      console.log(row, '123');\n      this.userId = row.userId;\n      this.handelQuery();\n    },\n    handelInp: function handelInp(val) {\n      if (val > this.total_inning) {\n        this.$message.error('当前局不能超过总局数');\n      } else {\n        this.index = val;\n        this.handelQuery();\n      }\n    },\n    // 查询按钮\n    handelQuery: function handelQuery() {\n      var _this = this;\n      var params = {\n        curr_inning: this.index,\n        userId: this.userId\n      };\n      getDetailsDataList(params).then(function (res) {\n        if (res.code == 200) {\n          _this.list = res.result.list;\n          _this.list.forEach(function (item) {\n            _this.total_inning = item.total_inning;\n          });\n          _this.overList = res.result.overList;\n        }\n      });\n    },\n    prevClick: function prevClick() {\n      this.index--;\n      this.handelQuery();\n    },\n    nextClick: function nextClick() {\n      this.index++;\n      this.handelQuery();\n    },\n    //处理输赢颜色\n    handelColor: function handelColor(val) {\n      if (val > 0) {\n        return 'green';\n      }\n      if (val < 0) {\n        return 'red';\n      }\n    },\n    //点击叉\n    handleClose: function handleClose() {\n      this.centerDialogVisible = false;\n    }\n  }\n};","map":{"version":3,"names":["getDetailsDataList","data","centerDialogVisible","title","list","overList","index","maxIndex","userId","total_inning","methods","open","row","concat","gameName","userName","gameRoomId","console","log","handelQuery","handelInp","val","$message","error","_this","params","curr_inning","then","res","code","result","forEach","item","prevClick","nextClick","handelColor","handleClose"],"sources":["src/views/gameManage/model/index.vue"],"sourcesContent":["<template>\r\n    <el-dialog :title=\"title\" :visible.sync=\"centerDialogVisible\" append-to-body width=\"95%\" :before-close=\"handleClose\">\r\n        <!-- 头部 -->\r\n        <div class=\"headerBox\">\r\n            <el-button type=\"info\" :disabled=\"index <= 1\" size=\"small\" icon=\"el-icon-arrow-left\" @click=\"prevClick\"></el-button>\r\n            <span>当前</span>\r\n            <el-input v-model=\"index\" size=\"small\" style=\"width:80px\" @input=\"handelInp\"></el-input>\r\n            <span>小局</span>\r\n            <el-button type=\"info\" :disabled=\"index >= total_inning\" size=\"small\" icon=\"el-icon-arrow-right\" @click=\"nextClick\"></el-button>\r\n            <span>会员ID</span>\r\n            <el-input v-model=\"userId\" size=\"small\" clearable style=\"width:110px\"></el-input>\r\n            <el-button size=\"small\" @click=\"handelQuery\">查询</el-button>\r\n        </div>\r\n\r\n        <!-- 列表 -->\r\n        <el-table :data=\"list\" border style=\"width: 100%\">\r\n            <el-table-column prop=\"id\" label=\"游戏局数\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    {{ row.curr_inning }}/{{ row.total_inning }}\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"游戏人数\" prop=\"peopleNumber\" align=\"center\" />\r\n            <el-table-column label=\"积分\" prop=\"integral\" align=\"center\" />\r\n            <el-table-column label=\"赢家输赢\" prop=\"winnerNum\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    <span :class=\"handelColor(row.winnerNum)\">\r\n                        {{ row.winnerNum > 0 ? '+' + row.winnerNum : row.winnerNum }}\r\n                    </span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"其他玩家输赢\" prop=\"otherNum\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    <span :class=\"handelColor(row.otherNum)\">\r\n                        {{ row.otherNum > 0 ? '+' + row.otherNum : row.otherNum }}\r\n                    </span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"玩家昵称\" prop=\"userName\" align=\"center\" />\r\n            <el-table-column label=\"开始时间\" prop=\"startTime\" align=\"center\" />\r\n            <el-table-column label=\"结束时间\" prop=\"endTime\" align=\"center\" />\r\n        </el-table>\r\n\r\n        <!-- 结果 -->\r\n        <h3>结果:</h3>\r\n        <el-table :data=\"overList\" border style=\"width: 100%\">\r\n            <el-table-column prop=\"userId\" label=\"会员ID\" align=\"center\"/>\r\n            <el-table-column label=\"会员昵称\" prop=\"userName\" align=\"center\" />\r\n            <el-table-column label=\"头像\" prop=\"peopleNumber\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    <img :src=\"row.avatar\" alt=\"\" width=\"50\" height=\"50\">\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"赢家输赢\" prop=\"winnerNum\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    <span :class=\"handelColor(row.winnerNum)\">\r\n                        {{ row.winnerNum > 0 ? '+' + row.winnerNum : row.winnerNum }}\r\n                    </span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"最终输赢\" prop=\"winnerNum\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    <span :class=\"handelColor(row.winnerNum)\">\r\n                        {{ row.winnerNum > 0 ? '+' + row.winnerNum : row.winnerNum }}\r\n                    </span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"积分\" prop=\"integral\" align=\"center\" />\r\n            <el-table-column label=\"牌型\" prop=\"otherNum\" align=\"center\" width=\"350px\">\r\n                <template slot-scope=\"{row}\">\r\n                    <div class=\"imgBox\" v-for=\"(item, index) in row.cardType\" :key=\"index+'card'\">\r\n                        <img :src=\"require(`@/assets/card-img/${item}.png`)\" width=\"30px\" />\r\n                        <div :class=\"{'maskLayer': row.overCardType.includes(item) }\"></div>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"结果\" prop=\"startTime\" align=\"center\">\r\n                <template slot-scope=\"{row}\">\r\n                    {{ row.result == 0 ? '赢家' : '-'}}\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getDetailsDataList } from '@/api/gameManageApi'\r\nexport default {\r\n    data() {\r\n        return {\r\n            centerDialogVisible: false,\r\n            title: '',\r\n            list: [],\r\n            overList: [],\r\n            index: 1,\r\n            maxIndex: 3,\r\n            userId: '',\r\n            total_inning: ''\r\n        }\r\n    },\r\n    methods: {\r\n        //打开弹窗\r\n        open(row){\r\n            this.centerDialogVisible = true\r\n            this.title = `【${row.gameName}】 【会员昵称：${row.userName}】 【牌库编号：${row.gameRoomId}】`\r\n            console.log(row,'123')\r\n            this.userId = row.userId\r\n            this.handelQuery()\r\n        },\r\n\r\n        handelInp(val){\r\n            if(val > this.total_inning){\r\n                this.$message.error('当前局不能超过总局数');\r\n            }else{\r\n                this.index = val\r\n                this.handelQuery()\r\n            }\r\n        },\r\n\r\n        // 查询按钮\r\n        handelQuery(){\r\n            let params = {\r\n                curr_inning: this.index,\r\n                userId: this.userId \r\n            }\r\n            getDetailsDataList(params).then(res => {\r\n                if(res.code == 200){\r\n                    this.list = res.result.list\r\n                    this.list.forEach(item => {\r\n                        this.total_inning = item.total_inning\r\n                    })\r\n                    \r\n                    this.overList = res.result.overList\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n        prevClick() {\r\n            this.index--;\r\n            this.handelQuery()\r\n        },\r\n        nextClick() {\r\n            this.index++;\r\n            this.handelQuery()\r\n        },\r\n\r\n        //处理输赢颜色\r\n        handelColor(val){\r\n            if(val > 0){\r\n                return 'green'\r\n            }\r\n            if(val < 0){\r\n                return 'red'\r\n            }\r\n        },\r\n\r\n        //点击叉\r\n        handleClose(){\r\n            this.centerDialogVisible = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n::v-deep .el-dialog__header{\r\n    background: #d4d4d4;\r\n    padding: 15px\r\n}\r\n\r\n.headerBox{\r\n    display: flex;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 50px;\r\n    span{\r\n        padding: 0 10px;\r\n        color: #009c0d;\r\n        font-size: 16px;\r\n    }\r\n    span:nth-of-type(3){\r\n        color: #242424;\r\n    }\r\n}\r\n::v-deep .cell{\r\n    display: flex;\r\n    justify-content: center;\r\n    img{\r\n        margin-left: -15px;\r\n    }\r\n}\r\n.imgBox{\r\n    position: relative;\r\n}\r\n.maskLayer{\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 30px;\r\n    height: 41px;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    margin-left: -15px;\r\n}\r\n\r\n// 输赢字体色\r\n.green{\r\n    color: #089F1C;\r\n    font-weight: 600;\r\n}\r\n.red{\r\n    color: #990000;\r\n    font-weight: 600;\r\n}\r\n</style>"],"mappings":";;;;AAqFA,SAAAA,kBAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,mBAAA;MACAC,KAAA;MACAC,IAAA;MACAC,QAAA;MACAC,KAAA;MACAC,QAAA;MACAC,MAAA;MACAC,YAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,IAAA,WAAAA,KAAAC,GAAA;MACA,KAAAV,mBAAA;MACA,KAAAC,KAAA,YAAAU,MAAA,CAAAD,GAAA,CAAAE,QAAA,iDAAAD,MAAA,CAAAD,GAAA,CAAAG,QAAA,iDAAAF,MAAA,CAAAD,GAAA,CAAAI,UAAA;MACAC,OAAA,CAAAC,GAAA,CAAAN,GAAA;MACA,KAAAJ,MAAA,GAAAI,GAAA,CAAAJ,MAAA;MACA,KAAAW,WAAA;IACA;IAEAC,SAAA,WAAAA,UAAAC,GAAA;MACA,IAAAA,GAAA,QAAAZ,YAAA;QACA,KAAAa,QAAA,CAAAC,KAAA;MACA;QACA,KAAAjB,KAAA,GAAAe,GAAA;QACA,KAAAF,WAAA;MACA;IACA;IAEA;IACAA,WAAA,WAAAA,YAAA;MAAA,IAAAK,KAAA;MACA,IAAAC,MAAA;QACAC,WAAA,OAAApB,KAAA;QACAE,MAAA,OAAAA;MACA;MACAR,kBAAA,CAAAyB,MAAA,EAAAE,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAL,KAAA,CAAApB,IAAA,GAAAwB,GAAA,CAAAE,MAAA,CAAA1B,IAAA;UACAoB,KAAA,CAAApB,IAAA,CAAA2B,OAAA,WAAAC,IAAA;YACAR,KAAA,CAAAf,YAAA,GAAAuB,IAAA,CAAAvB,YAAA;UACA;UAEAe,KAAA,CAAAnB,QAAA,GAAAuB,GAAA,CAAAE,MAAA,CAAAzB,QAAA;QACA;MACA;IACA;IAGA4B,SAAA,WAAAA,UAAA;MACA,KAAA3B,KAAA;MACA,KAAAa,WAAA;IACA;IACAe,SAAA,WAAAA,UAAA;MACA,KAAA5B,KAAA;MACA,KAAAa,WAAA;IACA;IAEA;IACAgB,WAAA,WAAAA,YAAAd,GAAA;MACA,IAAAA,GAAA;QACA;MACA;MACA,IAAAA,GAAA;QACA;MACA;IACA;IAEA;IACAe,WAAA,WAAAA,YAAA;MACA,KAAAlC,mBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}