{"ast":null,"code":"import { upload } from '../../api/userApi';\nexport default {\n  data: function data() {\n    return {\n      userInfo: {},\n      activeName: '1',\n      user: {\n        imgUrl: '',\n        userName: '',\n        tel: '',\n        mail: '',\n        sex: ''\n      },\n      pwd: {}\n    };\n  },\n  created: function created() {\n    this.userInfo = this.$store.state.userInfo;\n  },\n  methods: {\n    //上传头像\n    handleAvatarSuccess: function handleAvatarSuccess(parame) {\n      var _this = this;\n      var formData = new FormData();\n      formData.append('file', parame.file);\n      upload(formData).then(function (res) {\n        if (res.code == 200) {\n          _this.user.imgUrl = res.data.imgUrl;\n        }\n      });\n    },\n    //上传头像之前的校验\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    },\n    //保存按钮\n    handleSubmit: function handleSubmit() {},\n    //关闭按钮\n    handleClos: function handleClos() {}\n  }\n};","map":{"version":3,"names":["upload","data","userInfo","activeName","user","imgUrl","userName","tel","mail","sex","pwd","created","$store","state","methods","handleAvatarSuccess","parame","_this","formData","FormData","append","file","then","res","code","beforeAvatarUpload","isJPG","type","isLt2M","size","$message","error","handleSubmit","handleClos"],"sources":["src/views/user/index.vue"],"sourcesContent":["<template>\n    <div class=\"user-page\">\n        <!-- 左侧 -->\n        <el-card class=\"box-card left\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>个人信息</span>\n            </div>\n            <div class=\"centent two\">\n                <el-upload class=\"avatar-uploader\" \n                    action=\"\" \n                    :show-file-list=\"false\" \n                    :http-request=\"handleAvatarSuccess\"\n                    :before-upload=\"beforeAvatarUpload\"\n                >\n                    <img v-if=\"user.imgUrl\" :src=\"user.imgUrl\" class=\"avatar\">\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                </el-upload>\n            </div>\n            <div class=\"centent\">\n                <span>\n                    <i class=\"el-icon-user\"></i>\n                    用户名称\n                </span>\n                <span>{{userInfo.userName}}</span>\n            </div>\n            <div class=\"centent\">\n                <span>\n                    <i class=\"el-icon-mobile-phone\"></i>\n                    手机号码\n                </span>\n                <span>{{userInfo.tel}}</span>\n            </div>\n            <div class=\"centent\">\n                <span>\n                    <i class=\"el-icon-message\"></i>\n                    用户邮箱\n                </span>\n                <span>{{userInfo.mail}}</span>\n            </div>\n            <div class=\"centent\">\n                <span>\n                    <i class=\"el-icon-user-solid\"></i>\n                    所属角色\n                </span>\n                <span>{{userInfo.role}}</span>\n            </div>\n            <div class=\"centent\">\n                <span>\n                    <i class=\"el-icon-date\"></i>\n                    创建日期\n                </span>\n                <span>{{userInfo.creatDate}}</span>\n            </div>\n        </el-card>\n\n\n\n\n        <!-- 右侧 -->\n        <el-card class=\"box-card right\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>基本资料</span>\n            </div>\n            <div>\n                <el-tabs v-model=\"activeName\">\n                    <el-tab-pane label=\"基本资料\" name=\"1\">\n                        <el-form :inline=\"true\">\n                            <el-form-item label=\"用户昵称\">\n                                <el-input v-model=\"user.userName\" size=\"small\" clearable placeholder=\"请输入茶品名称\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"手机号码\">\n                                <el-input v-model=\"user.tel\" size=\"small\" clearable placeholder=\"请输入茶品名称\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"邮箱\">\n                                <el-input v-model=\"user.mail\" size=\"small\" clearable placeholder=\"请输入茶品名称\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"性别\">\n                                <el-radio v-model=\"user.sex\" label=\"1\">男</el-radio>\n                                <el-radio v-model=\"user.sex\" label=\"2\">女</el-radio>\n                            </el-form-item>\n\n                            <el-form-item>\n                                <el-button type=\"primary\" size=\"small\" @click=\"handleSubmit\">保存</el-button>\n                                <el-button type=\"primary\" size=\"small\" @click=\"handleClos\">关闭</el-button>\n                            </el-form-item>\n                        </el-form>\n                    </el-tab-pane>\n                    <el-tab-pane label=\"修改密码\" name=\"2\">456</el-tab-pane>\n                </el-tabs>\n            </div>\n        </el-card>\n    </div>\n</template>\n\n<script>\nimport { upload } from '../../api/userApi'\nexport default {\n    data() {\n        return {\n            userInfo: {},\n            activeName: '1',\n            user:{\n                imgUrl: '',\n                userName: '',\n                tel: '',\n                mail: '',\n                sex: '',\n            },\n            pwd:{},\n        }\n    },\n\n    created() {\n        this.userInfo = this.$store.state.userInfo\n    },\n    methods: {\n        //上传头像\n        handleAvatarSuccess(parame) {\n            let formData = new FormData()\n            formData.append('file', parame.file)\n            upload(formData).then(res =>{\n                if(res.code == 200){\n                    this.user.imgUrl = res.data.imgUrl\n                }\n            })\n        },\n\n        //上传头像之前的校验\n        beforeAvatarUpload(file) {\n            const isJPG = file.type === 'image/jpeg';\n            const isLt2M = file.size / 1024 / 1024 < 2;\n\n            if (!isJPG) {\n                this.$message.error('上传头像图片只能是 JPG 格式!');\n            }\n            if (!isLt2M) {\n                this.$message.error('上传头像图片大小不能超过 2MB!');\n            }\n            return isJPG && isLt2M;\n        },\n        \n        //保存按钮\n        handleSubmit(){},\n\n        //关闭按钮\n        handleClos(){},\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.user-page {\n    display: flex;\n    .left {\n        width: 25%;\n        .centent {\n            display: flex;\n            justify-content: space-between;\n            border-bottom: 1px solid #d4d4d4;\n            padding: 8px 0;\n            font-size: 14px;\n            .avatar-uploader .el-upload {\n                border: 1px dashed #d9d9d9;\n                border-radius: 6px;\n                cursor: pointer;\n                position: relative;\n                overflow: hidden;\n            }\n            .avatar-uploader .el-upload:hover {\n                border-color: #409EFF;\n            }\n            .avatar-uploader-icon {\n                font-size: 28px;\n                color: #8c939d;\n                width: 120px;\n                height: 120px;\n                line-height: 120px;\n                text-align: center;\n            }\n            .avatar {\n                width: 120px;\n                height: 120px;\n                border-radius: 50%;\n                display: block;\n            }\n            .avatar-uploader{\n                width: 120px;\n                height: 120px;\n                border: 1px solid #000;\n                border-radius: 50%;\n            }\n        }\n        .two{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n    .right {\n        width: 75%;\n        margin-left: 20px;\n    }\n}\n</style>"],"mappings":"AA+FA,SAAAA,MAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,UAAA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;QACAC,GAAA;QACAC,IAAA;QACAC,GAAA;MACA;MACAC,GAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA,KAAAT,QAAA,QAAAU,MAAA,CAAAC,KAAA,CAAAX,QAAA;EACA;EACAY,OAAA;IACA;IACAC,mBAAA,WAAAA,oBAAAC,MAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,SAAAJ,MAAA,CAAAK,IAAA;MACArB,MAAA,CAAAkB,QAAA,EAAAI,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAP,KAAA,CAAAb,IAAA,CAAAC,MAAA,GAAAkB,GAAA,CAAAtB,IAAA,CAAAI,MAAA;QACA;MACA;IACA;IAEA;IACAoB,kBAAA,WAAAA,mBAAAJ,IAAA;MACA,IAAAK,KAAA,GAAAL,IAAA,CAAAM,IAAA;MACA,IAAAC,MAAA,GAAAP,IAAA,CAAAQ,IAAA;MAEA,KAAAH,KAAA;QACA,KAAAI,QAAA,CAAAC,KAAA;MACA;MACA,KAAAH,MAAA;QACA,KAAAE,QAAA,CAAAC,KAAA;MACA;MACA,OAAAL,KAAA,IAAAE,MAAA;IACA;IAEA;IACAI,YAAA,WAAAA,aAAA;IAEA;IACAC,UAAA,WAAAA,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}