{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport { getStockAdd, getStockEdit } from '@/api/stockManageApi';\nexport default {\n  data: function data() {\n    return {\n      centerDialogVisible: false,\n      title: '',\n      form: {\n        id: '',\n        teaName: '',\n        unit: '',\n        level: '',\n        reality: '',\n        totalCost: ''\n      },\n      unitList: [{\n        id: 1,\n        name: 'kg'\n      }, {\n        id: 2,\n        name: 'g'\n      }, {\n        id: 3,\n        name: 't'\n      }],\n      levelList: [{\n        id: 1,\n        name: 'A'\n      }, {\n        id: 2,\n        name: 'B'\n      }, {\n        id: 3,\n        name: 'C'\n      }, {\n        id: 4,\n        name: 'D'\n      }],\n      rules: {\n        teaName: [{\n          required: true,\n          message: \"请输入茶品名称\",\n          trigger: \"blur\"\n        }],\n        unit: [{\n          required: true,\n          message: \"请选择单位\",\n          trigger: \"blur\"\n        }],\n        level: [{\n          required: true,\n          message: \"请选择等级\",\n          trigger: \"blur\"\n        }],\n        reality: [{\n          required: true,\n          message: \"请输库存数量\",\n          trigger: \"blur\"\n        }],\n        totalCost: [{\n          required: true,\n          message: \"请输入总成本\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    //打开弹窗\n    open: function open(row) {\n      this.centerDialogVisible = true;\n      this.title = row ? '编辑' : '新增';\n      if (row) {\n        this.form.id = row.id;\n        this.form.teaName = row.teaName;\n        this.form.unit = Number(row.unit);\n        this.form.level = Number(row.level);\n        this.form.reality = row.reality;\n        this.form.totalCost = row.totalCost;\n      }\n    },\n    //点击确认按钮\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          if (_this.title == '新增') {\n            getStockAdd(_this.form).then(function (res) {\n              if (res.code == 200) {\n                _this.$emit('success');\n                _this.$message.success(res.message);\n                _this.form = _this.$options.data().form;\n                _this.centerDialogVisible = false;\n              } else {\n                _this.$message.error(res.message);\n              }\n            });\n          } else {\n            getStockEdit(_this.form).then(function (res) {\n              if (res.code == 200) {\n                _this.$emit('success');\n                _this.$message.success(res.message);\n                _this.centerDialogVisible = false;\n              }\n            });\n          }\n        }\n      });\n    },\n    //点击取消按钮\n    handleCancel: function handleCancel() {\n      this.form = this.$options.data().form;\n      this.centerDialogVisible = false;\n    },\n    //点击叉\n    handleClose: function handleClose() {\n      this.form = this.$options.data().form;\n      this.centerDialogVisible = false;\n    }\n  }\n};","map":{"version":3,"names":["getStockAdd","getStockEdit","data","centerDialogVisible","title","form","id","teaName","unit","level","reality","totalCost","unitList","name","levelList","rules","required","message","trigger","methods","open","row","Number","handleSubmit","_this","$refs","validate","valid","then","res","code","$emit","$message","success","$options","error","handleCancel","handleClose"],"sources":["src/views/stockManage/model/index.vue"],"sourcesContent":["<template>\n    <el-dialog :title=\"title\" :visible.sync=\"centerDialogVisible\" width=\"500px\" center :before-close=\"handleClose\" :close-on-press-escape=\"false\" :close-on-click-modal=\"false\">\n        <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" :inline=\"true\" label-width=\"90px\">\n            <el-form-item label=\"茶品名称\" prop=\"teaName\">\n                <el-input v-model=\"form.teaName\" size=\"small\" clearable placeholder=\"请输入茶品名称\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"单位\" prop=\"unit\">\n                <el-select v-model=\"form.unit\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in unitList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"等级\" prop=\"level\">\n                <el-select v-model=\"form.level\" placeholder=\"请选择\">\n                    <el-option v-for=\"item in levelList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"库存数量\" prop=\"reality\">\n                <el-input v-model=\"form.reality\" size=\"small\" clearable placeholder=\"请输入茶品名称\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"总成本\" prop=\"totalCost\">\n                <el-input v-model=\"form.totalCost\" size=\"small\" clearable placeholder=\"请输入茶品名称\"></el-input>\n            </el-form-item>\n        </el-form>\n\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"handleCancel\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"handleSubmit\">确 定</el-button>\n        </span>\n    </el-dialog>\n</template>\n\n<script>\nimport { getStockAdd, getStockEdit } from '@/api/stockManageApi'\nexport default {\n    data() {\n        return {\n            centerDialogVisible: false,\n            title:'',\n            form: {\n                id: '',\n                teaName: '',\n                unit: '',\n                level: '',\n                reality: '',\n                totalCost: ''\n            },\n            unitList:[\n                { id: 1, name: 'kg' },\n                { id: 2, name: 'g' },\n                { id: 3, name: 't' },\n            ],\n            levelList:[\n                { id: 1, name: 'A' },\n                { id: 2, name: 'B' },\n                { id: 3, name: 'C' },\n                { id: 4, name: 'D' },\n            ],\n            rules: {\n                teaName: [{ required: true, message: \"请输入茶品名称\", trigger: \"blur\" }],\n                unit: [{ required: true, message: \"请选择单位\", trigger: \"blur\" }],\n                level: [{ required: true, message: \"请选择等级\", trigger: \"blur\" }],\n                reality: [{ required: true, message: \"请输库存数量\", trigger: \"blur\" }],\n                totalCost: [{ required: true, message: \"请输入总成本\", trigger: \"blur\" }],\n            }\n        }\n    },\n    methods: {\n        //打开弹窗\n        open(row){\n            this.centerDialogVisible = true\n            this.title = row ? '编辑' : '新增'\n            if(row){\n                this.form.id = row.id\n                this.form.teaName = row.teaName\n                this.form.unit = Number(row.unit)\n                this.form.level = Number(row.level)\n                this.form.reality = row.reality\n                this.form.totalCost = row.totalCost\n            }\n        },\n\n        //点击确认按钮\n        handleSubmit(){\n            this.$refs.form.validate(valid => {\n                if (valid) {\n                    if(this.title == '新增'){\n                        getStockAdd(this.form).then(res =>{\n                            if(res.code == 200){\n                                this.$emit('success')\n                                this.$message.success(res.message)\n                                this.form = this.$options.data().form\n                                this.centerDialogVisible = false\n                            }else{\n                                this.$message.error(res.message)\n                            }\n                        })\n                    }else{\n                        getStockEdit(this.form).then(res =>{\n                            if(res.code == 200){\n                                this.$emit('success')\n                                this.$message.success(res.message)\n                                this.centerDialogVisible = false\n                            }\n                        })\n                    }\n                }\n            })\n        },\n\n        //点击取消按钮\n        handleCancel(){\n            this.form = this.$options.data().form\n            this.centerDialogVisible = false\n        },\n\n        //点击叉\n        handleClose(){\n            this.form = this.$options.data().form\n            this.centerDialogVisible = false\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .el-form-item{\n    width: 100%;\n}\n::v-deep .el-form-item__content{\n    width: 75%;\n}\n.el-select{\n    width: 100%;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}